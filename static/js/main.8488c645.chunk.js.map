{"version":3,"sources":["components/Button/Button.jsx","components/Home/Home.jsx","data_fetchers/QuizFetcher.js","models/Quiz.js","components/Quiz/Quiz.jsx","App.jsx","index.js"],"names":["Button","props","onClickHandler","className","onClick","children","Home","history","console","log","push","QuizFetcher","axios","get","response","data","Quiz","question","correctAnswer","incorrectAnswers","this","_question","_correctAnswer","_incorrectAnswers","_","shuffle","answer","fetch","quizDataList","results","map","result","he","decode","correct_answer","incorrect_answers","str","quizData","state","quizzes","currentIndex","numberOfCorrects","restart","setState","QuizModel","fetchAndCreateQuizzes","quiz","judgeCorrectAnswer","alert","length","renderLoading","renderQuiz","renderResult","to","answers","shuffleAnswers","index","key","selectAnswer","id","React","Component","App","path","exact","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8488c645.chunk.js","sourcesContent":["import React from 'react';\nimport './Button.css';\n\nconst Button = (props) => {\n  let {onClickHandler} = props;\n\n  // onClickHandlerに関数以外の値がセットされていたら、\n  // ボタンクリック時にエラーを出さないために何も中身のない\n  // 関数を実行する\n  if(typeof onClickHandler !== 'function') {\n    onClickHandler = () => {};\n  }\n\n  return (\n    <div\n      className=\"Button\"\n      onClick={onClickHandler}\n    >\n      {props.children}\n    </div>\n  );\n};\n\nexport default Button;","import React from 'react';\nimport Button from '../Button/Button';\n\nconst Home = ({history}) => {\n  console.log(history,'@@@@@@@@@@@@@@@@@@@');\n\n  return (\n    <div>\n      <h1>ホーム</h1>\n      <Button\n      onClickHandler={() => {\n        history.push('/quiz');\n        }}>\n        クイズページへ移動\n      </Button>\n    </div>\n  );\n};\n\nexport default Home;","import axios from 'axios';\n\nconst API_URL = 'https://opentdb.com/api.php?amount=10&type=multiple';\nclass QuizFetcher {\n  static async fetch() {\n    const response = await axios.get(API_URL);\n    return response.data;\n  }\n}\n\nexport default QuizFetcher;","import _ from 'lodash';\nimport he from 'he';\nimport QuizFetcher from '../data_fetchers/QuizFetcher';\n\nclass Quiz {\n  constructor({question, correctAnswer, incorrectAnswers}) {\n\n    this._question = question;\n    this._correctAnswer = correctAnswer;\n    this._incorrectAnswers = [...incorrectAnswers];\n  }\n\n  get question() {\n    return this._question;\n  }\n\n  get correctAnswer() {\n    return this._correctAnswer;\n  }\n\n  shuffleAnswers() {\n    return _.shuffle([\n      this._correctAnswer,\n      ...this._incorrectAnswers\n    ]);\n  }\n\n  judgeCorrectAnswer(answer) {\n    return answer === this._correctAnswer;\n  }\n\n  static async fetchAndCreateQuizzes() {\n    const quizDataList = await QuizFetcher.fetch();\n\n    return quizDataList.results.map(result => {\n      return {\n        question: he.decode(result.question),\n        correctAnswer: he.decode(result.correct_answer),\n        incorrectAnswers: result.incorrect_answers.map(str => he.decode(str))\n      };\n    })\n    .map(quizData => {\n      return new Quiz(quizData);\n    })\n  }\n\n}\n\nexport default Quiz;","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport QuizModel from '../../models/Quiz';\nimport Button from '../Button/Button';\nimport './Quiz.css';\n\nclass Quiz extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      quizzes: [],\n      currentIndex: 0,\n      numberOfCorrects: 0\n    };\n  }\n\n  async componentDidMount() {\n    await this.restart();\n  }\n\n  async restart() {\n    this.setState({\n      quizzes: [],\n      currentIndex: 0,\n      numberOfCorrects: 0\n    });\n\n    const quizzes = await QuizModel.fetchAndCreateQuizzes();\n\n    this.setState({quizzes});\n  }\n\n  selectAnswer(quiz, answer) {\n    let {currentIndex, numberOfCorrects} = this.state;\n    const isCorrect = quiz.judgeCorrectAnswer(answer);\n\n    if (isCorrect) {\n      numberOfCorrects++;\n      alert('Correct answer!!');\n    } else {\n      alert(`Wrong answer... (The correct answer is \"${quiz.correctAnswer}\"`);\n    }\n    currentIndex++;\n\n    this.setState({\n      currentIndex,\n      numberOfCorrects\n    });\n  }\n\n  render() {\n    const {quizzes, currentIndex} = this.state;\n\n    // 読込中\n    if (quizzes.length === 0) {\n      return this.renderLoading();\n    }\n\n    // クイズ中\n    if (quizzes.length > 0 && currentIndex < quizzes.length) {\n      return this.renderQuiz();\n    }\n\n    // クイズ結果\n    if (quizzes.length > 0 && currentIndex >= quizzes.length) {\n      return this.renderResult();\n    }\n\n    return (\n      <h1>Quizです1</h1>\n    );\n  }\n\n  renderLoading() {\n    return (\n      <div>\n        <h1>クイズページ</h1>\n        <p>Now loading...</p>\n        <hr />\n        <Link to=\"/\">トップページへ</Link>\n      </div>\n    );\n  }\n\n  renderQuiz() {\n    const {currentIndex, quizzes} = this.state;\n\n    const quiz = quizzes[currentIndex];\n    const answers = quiz.shuffleAnswers().map((answer, index) => {\n      return (\n        <li key={index}>\n          <Button\n            onClickHandler={() => {this.selectAnswer(quiz, answer)}}\n          >\n            {answer}\n          </Button>\n        </li>\n      );\n    });\n\n    return (\n      <div>\n        <h1>クイズページ</h1>\n        <div>\n          <p>{quiz.question}</p>\n          <ul className=\"QuizList\">{answers}</ul>\n        </div>\n        <hr/>\n        <Link to=\"/\">トップページへ</Link>\n      </div>\n    );\n  }\n\n  renderResult() {\n    const {quizzes, numberOfCorrects} = this.state;\n\n    return (\n      <div>\n        <h1>クイズページ</h1>\n        <div>\n          <p id=\"result\">{`${numberOfCorrects}/${quizzes.length} corrects.`}</p>\n          <Button\n            onClickHandler={() => {this.restart()}}\n          >\n            Restart\n            </Button>\n        </div>\n        <hr/>\n        <Link to=\"/\">トップページへ</Link>\n      </div>\n    );\n  }\n}\n\nexport default Quiz;","import React from 'react';\nimport {\n  HashRouter as Router,\n  Route\n} from 'react-router-dom';\nimport Home from './components/Home/Home';\nimport Quiz from './components/Quiz/Quiz';\nimport './App.css';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router>\n        <Route path=\"/\" exact component={Home} />\n        <Route path=\"/quiz\" exact component={Quiz} />\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}